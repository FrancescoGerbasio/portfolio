<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Travel Photos</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; }
        h1 { color: #333; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        img { max-width: 200px; margin: 10px; border: 2px solid #ddd; }
        pre { background: #f5f5f5; padding: 10px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>üîç Travel Photos Diagnostic Test</h1>
    
    <div id="results"></div>
    
    <script>
        const results = document.getElementById('results');
        
        // Test 1: Load config
        results.innerHTML += '<h2>Test 1: Loading data-travel.js</h2>';
        
        fetch('data-travel.js')
            .then(response => {
                if (!response.ok) throw new Error('File not found');
                return response.text();
            })
            .then(text => {
                results.innerHTML += '<div class="status success">‚úì data-travel.js loaded successfully</div>';
                
                // Execute script
                eval(text);
                
                if (typeof travelConfig === 'undefined') {
                    throw new Error('travelConfig not defined');
                }
                
                results.innerHTML += '<div class="status success">‚úì travelConfig found</div>';
                results.innerHTML += `<div class="status success">‚úì ${travelConfig.destinations.length} destinations configured</div>`;
                
                // Show destinations
                results.innerHTML += '<h2>Test 2: Configured Destinations</h2>';
                results.innerHTML += '<pre>' + JSON.stringify(travelConfig.destinations, null, 2) + '</pre>';
                
                // Test images for each destination
                results.innerHTML += '<h2>Test 3: Checking Images</h2>';
                
                travelConfig.destinations.forEach(dest => {
                    const destDiv = document.createElement('div');
                    destDiv.innerHTML = `<h3>${dest.flag} ${dest.location}</h3>`;
                    results.appendChild(destDiv);
                    
                    // Try to load first 3 images
                    for (let i = 1; i <= 3; i++) {
                        const imagePath = `Assets/Images/Travel/${dest.folder}/${i}.webp`;
                        
                        const img = new Image();
                        img.onload = () => {
                            destDiv.innerHTML += `<div class="status success">‚úì Found: ${imagePath}</div>`;
                            const preview = document.createElement('img');
                            preview.src = imagePath;
                            destDiv.appendChild(preview);
                        };
                        img.onerror = () => {
                            destDiv.innerHTML += `<div class="status error">‚úó Not found: ${imagePath}</div>`;
                        };
                        img.src = imagePath;
                    }
                });
                
            })
            .catch(error => {
                results.innerHTML += `<div class="status error">‚úó Error: ${error.message}</div>`;
                results.innerHTML += '<h3>Troubleshooting:</h3>';
                results.innerHTML += '<ul>';
                results.innerHTML += '<li>Make sure data-travel.js is in the same folder as this HTML file</li>';
                results.innerHTML += '<li>Make sure you\'re using a local server (not opening file:// directly)</li>';
                results.innerHTML += '<li>Check browser console (F12) for more errors</li>';
                results.innerHTML += '</ul>';
            });
    </script>
</body>
</html>

/* ===================================
   MOBILE TRAVEL LAYOUT
   Apple-style grouped carousels + 2-col grid
   Only applies at ≤768px
   =================================== */

@media (max-width: 768px) {

    /* Grid resets to normal flow on mobile */
    .masonry-grid.mobile-layout {
        position: static;
        height: auto !important;
        display: flex;
        flex-direction: column;
        gap: 0;
        opacity: 1 !important;
    }

    /* ── Destination group ── */
    .mobile-destination-group {
        padding: 32px 0 8px;
        border-bottom: 1px solid rgba(0,0,0,0.07);
        opacity: 0;
        transform: translateY(16px);
    }

    .mobile-destination-group:last-child {
        border-bottom: none;
    }

    .mobile-destination-group.group-enter {
        animation: groupSlideUp 0.45s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    }

    @keyframes groupSlideUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* ── Destination header ── */
    .mobile-dest-header {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 14px;
        padding: 0 2px;
    }

    .mobile-dest-flag {
        font-size: 20px;
        line-height: 1;
    }

    .mobile-dest-name {
        font-size: 17px;
        font-weight: 600;
        color: var(--color-text);
        letter-spacing: -0.01em;
    }

    .mobile-dest-count {
        font-size: 13px;
        color: var(--color-text-light);
        opacity: 0.6;
        margin-left: 2px;
    }

    /* ── Horizontal carousel ── */
    .mobile-carousel {
        display: flex;
        gap: 8px;
        overflow-x: auto;
        overflow-y: hidden;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        padding-bottom: 4px;
        /* Bleed to screen edge */
        margin-left: -20px;
        margin-right: -20px;
        padding-left: 20px;
        padding-right: 20px;
    }

    .mobile-carousel::-webkit-scrollbar {
        display: none;
    }

    .mobile-carousel-card {
        flex-shrink: 0;
        width: 140px;
        height: 186px;
        border-radius: 10px;
        overflow: hidden;
        scroll-snap-align: start;
        opacity: 0;
        transform: scale(0.94);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .mobile-carousel-card:active {
        transform: scale(0.97);
    }

    .mobile-carousel-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }

    /* Stagger carousel cards via CSS — parent triggers when group animates in */
    .mobile-destination-group.group-enter .mobile-carousel-card {
        animation: cardPop 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        animation-delay: calc(var(--i) * 35ms + 120ms);
    }

    @keyframes cardPop {
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    /* ── See all button ── */
    .mobile-see-all-btn {
        display: flex;
        align-items: center;
        gap: 5px;
        background: none;
        border: none;
        font-family: var(--font-body);
        font-size: 13px;
        font-weight: 600;
        color: var(--color-text);
        opacity: 0.45;
        cursor: pointer;
        padding: 10px 0 0;
        letter-spacing: 0.01em;
        transition: opacity 0.2s ease;
    }

    .mobile-see-all-btn:active {
        opacity: 0.7;
    }

    .mobile-see-all-btn svg {
        flex-shrink: 0;
        margin-top: 1px;
    }

    /* ── Filter header (back button + label) ── */
    .mobile-filter-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 16px;
        padding: 4px 0;
    }

    .mobile-back-btn {
        display: flex;
        align-items: center;
        gap: 4px;
        background: none;
        border: none;
        font-family: var(--font-body);
        font-size: 15px;
        font-weight: 600;
        color: var(--color-text);
        cursor: pointer;
        padding: 8px 0;
        opacity: 0.6;
        transition: opacity 0.2s ease;
        -webkit-tap-highlight-color: transparent;
    }

    .mobile-back-btn:active {
        opacity: 1;
    }

    .mobile-filter-label {
        font-size: 14px;
        font-weight: 600;
        color: var(--color-text);
        opacity: 0.5;
    }

    /* ── 2-column filtered grid ── */
    .mobile-two-col-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 6px;
    }

    .mobile-grid-card {
        border-radius: 10px;
        overflow: hidden;
        aspect-ratio: 3/4;
        opacity: 0;
        transform: translateY(10px) scale(0.97);
    }

    .mobile-grid-card:nth-child(odd) {
        margin-top: 0;
    }

    /* Offset every even column down slightly for staggered feel */
    .mobile-grid-card:nth-child(even) {
        margin-top: 20px;
    }

    .mobile-grid-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }

    .mobile-grid-card.card-enter {
        animation: gridCardEnter 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    }

    @keyframes gridCardEnter {
        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

}